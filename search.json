[{"path":"https://dylanpieper.github.io/episodes/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 episodes authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://dylanpieper.github.io/episodes/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dylan Pieper. Author, maintainer.","code":""},{"path":"https://dylanpieper.github.io/episodes/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pieper D (2025). episodes: Time Series Segmentation Longitudinal Data Analysis. R package version 0.1.0, https://dylanpieper.github.io/episodes/, https://github.com/dylanpieper/episodes.","code":"@Manual{,   title = {episodes: Time Series Segmentation for Longitudinal Data Analysis},   author = {Dylan Pieper},   year = {2025},   note = {R package version 0.1.0, https://dylanpieper.github.io/episodes/},   url = {https://github.com/dylanpieper/episodes}, }"},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"episodes-","dir":"","previous_headings":"","what":"Time Series Segmentation for Longitudinal Data Analysis","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"Segment longitudinal data meaningful episodes based temporal gaps variable changes. ’s designed analyzing treatment patterns, patient journeys, time series data interruptions changes covariates significant. tool useful survival analyses time-varying statistical methods requiring structured temporal data. Features: Identify episodes based gaps dates Track variables change within episodes Analyze continuation (.e., retention) across episodes Support grouped data workflows tidyverse style","code":""},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"CRAN: Development version:","code":"install.packages(\"episodes\") # install.packages(\"pak\") pak::pak(\"dylanpieper/episodes\")"},{"path":[]},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"segmenting-client-treatment-episodes","dir":"","previous_headings":"Basic Usage","what":"Segmenting client treatment episodes","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"","code":"library(episodes)  episodes <- substance_use |>   group_by(client_id) |>   segment_episodes(     visit_date,     gap_threshold = 2,     gap_unit = \"months\"   )"},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"including-covariate-changes","dir":"","previous_headings":"Basic Usage","what":"Including covariate changes","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"Track important variables change within episodes using segment_episodes_by_covars():","code":"episodes_by_covars <- substance_use |>   group_by(client_id) |>   segment_episodes_by_covars(     visit_date,     covar_cols = c(\"substance_use_past_week\",                     \"quality_of_life_score\",                     \"medication_dose_mg\"),     gap_threshold = 2,     gap_unit = \"months\"   ) |>   arrange(client_id, episode_id, segment_id)"},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"analyzing-continuation-ie-retention","dir":"","previous_headings":"Basic Usage","what":"Analyzing continuation (i.e., retention)","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"split_episode() function helps analyze whether episodes continue past specific time thresholds: function adds columns threshold: - *_date: date corresponding threshold episode start - *_eligible: Whether enough time passed evaluate threshold - *_continued: Whether episode continued past threshold","code":"retention <- episodes |>   split_episode(     thresholds = c(30, 12, 6),      units = c(\"days\", \"weeks\", \"months\")   )"},{"path":[]},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"handling-fixed-and-changing-variables","dir":"","previous_headings":"Features","what":"Handling fixed and changing variables","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"package automatically distinguishes : Fixed variables (value throughout group) Varying variables (values change within group) Fixed variables included results, varying variables excluded. Use segment_episodes_by_covars() track changes specific variables.","code":""},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"identifying-active-vs-inactive-episodes","dir":"","previous_headings":"Features","what":"Identifying active vs. inactive episodes","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"default, segment_episodes() classifies episodes : Active: Recent episodes (based inactive_threshold) Inactive: Episodes ended inactive threshold Gap: Episodes followed another episode","code":"status_check <- substance_use |>   group_by(client_id) |>   segment_episodes(     visit_date,      gap_threshold = 2,      gap_unit = \"months\",     inactive_threshold = 3,     inactive_unit = \"months\"   ) |>   count(status)"},{"path":"https://dylanpieper.github.io/episodes/index.html","id":"dataset","dir":"","previous_headings":"","what":"Dataset","title":"Time Series Segmentation for Longitudinal Data Analysis","text":"package includes simulated substance use treatment dataset:","code":"glimpse(substance_use)"},{"path":"https://dylanpieper.github.io/episodes/reference/episodes-package.html","id":null,"dir":"Reference","previous_headings":"","what":"episodes: Time Series Segmentation for Longitudinal Data Analysis — episodes-package","title":"episodes: Time Series Segmentation for Longitudinal Data Analysis — episodes-package","text":"Segment longitudinal data meaningful episodes based temporal gaps variable changes. Designed analyzing treatment patterns, patient journeys, time series data interruptions changes covariates significant. Functions support identifying discontinuities, tracking variable changes within episodes, analyzing retention across specified time thresholds. Particularly useful survival analyses time-varying statistical methods requiring structured temporal data.","code":""},{"path":[]},{"path":"https://dylanpieper.github.io/episodes/reference/episodes-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"episodes: Time Series Segmentation for Longitudinal Data Analysis — episodes-package","text":"Maintainer: Dylan Pieper dylanpieper@gmail.com","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/madd.html","id":null,"dir":"Reference","previous_headings":"","what":"Lubridate operator to add time — %m+%","title":"Lubridate operator to add time — %m+%","text":"See lubridate::%m+% details.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/madd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lubridate operator to add time — %m+%","text":"","code":"lhs %m+% rhs"},{"path":"https://dylanpieper.github.io/episodes/reference/madd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lubridate operator to add time — %m+%","text":"lhs date-time object. rhs period duration object.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/madd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lubridate operator to add time — %m+%","text":"result adding rhs lhs.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/msubtract.html","id":null,"dir":"Reference","previous_headings":"","what":"Lubridate operator to subtract time — %m-%","title":"Lubridate operator to subtract time — %m-%","text":"See lubridate::%m-% details.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/msubtract.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lubridate operator to subtract time — %m-%","text":"","code":"lhs %m-% rhs"},{"path":"https://dylanpieper.github.io/episodes/reference/msubtract.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lubridate operator to subtract time — %m-%","text":"lhs date-time object. rhs period duration object.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/msubtract.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lubridate operator to subtract time — %m-%","text":"result subtracting rhs lhs.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes.html","id":null,"dir":"Reference","previous_headings":"","what":"Segment time series data into episodes based on date gaps — segment_episodes","title":"Segment time series data into episodes based on date gaps — segment_episodes","text":"segment_episodes() identifies episodes temporal data detecting gaps dates exceed specified threshold. episode ends gap consecutive dates larger gap_threshold. Episodes also classified 'active' 'inactive' based recency.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Segment time series data into episodes based on date gaps — segment_episodes","text":"","code":"segment_episodes(   .data,   date_col,   max_date = NULL,   gap_threshold = Inf,   gap_unit = \"days\",   inactive_threshold = gap_threshold,   inactive_unit = gap_unit,   episodes = \"all\" )"},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Segment time series data into episodes based on date gaps — segment_episodes","text":".data grouped data frame. Must pre-grouped dplyr::group_by(). date_col Column containing date values analyze. max_date Optional reference date determining active/inactive status. Defaults maximum date dataset. gap_threshold Numeric value specifying gap size defines new episode. Default Inf. gap_unit Units gap threshold. One \"days\", \"weeks\", \"months\". Default \"days\". inactive_threshold Threshold considering episode inactive. Default gap_threshold. inactive_unit Units inactive threshold. One \"days\", \"weeks\", \"months\". Default gap_unit. episodes episodes return. Options \"\", \"first\", \"last\", specific episode number. Default \"\".","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Segment time series data into episodes based on date gaps — segment_episodes","text":"data frame one row per episode containing: episode_id: Numeric episode identifier episode_start: Date episode started episode_end: Date episode ended episode_days: Duration episode days discontinued: Logical indicating episode discontinued status: Character indicating episode status (\"Active\", \"Inactive\", \"Gap\") dates_count: Number dates episode dates_avg_days_between: Average number days consecutive dates episode dates_sd_days_between: Standard deviation days consecutive dates gap_days: Number days episode next one (NA last episode) variables: fixed variables input data frame","code":""},{"path":[]},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Segment time series data into episodes based on date gaps — segment_episodes","text":"","code":"data(substance_use) treatment_episodes <- substance_use |>   group_by(client_id) |>   segment_episodes(     visit_date,     gap_threshold = 2,     gap_unit = \"months\"   ) #> Only fixed variables are included: #> • Included: \"medication_name\", \"Age\", \"Gender\", \"Race\", \"primary_substance\", #>   \"baseline_housing\", and \"trauma_history\" #> • Excluded: \"substance_use_past_week\", \"quality_of_life_score\", and #>   \"medication_dose_mg\" #> Use `episodes::segment_episodes_by_covars()` to include variables with changing #> values"},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes_by_covars.html","id":null,"dir":"Reference","previous_headings":"","what":"Segment time series data into episodes with covariate change tracking — segment_episodes_by_covars","title":"Segment time series data into episodes with covariate change tracking — segment_episodes_by_covars","text":"segment_episodes_by_covars() identifies episodes temporal data detecting gaps dates exceed specified threshold, segments episodes covariate values change. episode ends gap consecutive dates larger gap_threshold. Within episode, segments created whenever covariate values change.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes_by_covars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Segment time series data into episodes with covariate change tracking — segment_episodes_by_covars","text":"","code":"segment_episodes_by_covars(   .data,   date_col,   covar_cols,   max_date = NULL,   gap_threshold = Inf,   gap_unit = \"days\",   inactive_threshold = gap_threshold,   inactive_unit = gap_unit,   episodes = \"all\" )"},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes_by_covars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Segment time series data into episodes with covariate change tracking — segment_episodes_by_covars","text":".data data frame time series data date_col Column containing date values analyze covar_cols Columns monitor changes trigger segmentation max_date Optional reference date determining active/inactive status Defaults maximum date dataset gap_threshold Numeric value specifying gap size defines new episode Default Inf gap_unit Units gap threshold. One \"days\", \"weeks\", \"months\" Default \"days\" inactive_threshold Threshold considering episode inactive Default gap_threshold inactive_unit Units inactive threshold. One \"days\", \"weeks\", \"months\" Default gap_unit episodes episodes return. Options \"\", \"first\", \"last\", specific episode number. Default \"\"","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes_by_covars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Segment time series data into episodes with covariate change tracking — segment_episodes_by_covars","text":"data frame one row per segment containing: episode_id: Numeric episode identifier segment_id: String segment identifier (format: \"episode.segment\") episode_start: Date episode started episode_end: Date episode ended segment_start: Date segment started segment_end: Date segment ended episode_days: Duration episode days segment_days: Duration segment days discontinued: Logical indicating segment discontinued status: Character indicating segment status (\"Active\", \"Inactive\", \"Gap\", \"Ongoing\") dates_count: Number dates segment dates_avg_days_between: Average number days consecutive dates segment dates_sd_days_between: Standard deviation days consecutive dates gap_days: Number days segment next one (NA last segment) covariates: Columns specified covar_cols variables: fixed variables input data frame","code":""},{"path":[]},{"path":"https://dylanpieper.github.io/episodes/reference/segment_episodes_by_covars.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Segment time series data into episodes with covariate change tracking — segment_episodes_by_covars","text":"","code":"data(substance_use) treatment_episodes_by_covars <- substance_use |>   group_by(client_id) |>   segment_episodes_by_covars(     visit_date,     covar_cols = c(\"substance_use_past_week\", \"quality_of_life_score\", \"medication_dose_mg\"),     gap_threshold = 2,     gap_unit = \"months\"   ) #> Covariates used for segmentation: #> • \"substance_use_past_week\", \"quality_of_life_score\", and \"medication_dose_mg\" #> Fixed variables included: #> • \"medication_name\", \"Age\", \"Gender\", \"Race\", \"primary_substance\", #>   \"baseline_housing\", and \"trauma_history\""},{"path":"https://dylanpieper.github.io/episodes/reference/split_episode.html","id":null,"dir":"Reference","previous_headings":"","what":"Split episodes to analyze continuation across time thresholds — split_episode","title":"Split episodes to analyze continuation across time thresholds — split_episode","text":"split_episode() splits output segment_episodes() analyze whether episodes continue past specific time thresholds.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/split_episode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split episodes to analyze continuation across time thresholds — split_episode","text":"","code":"split_episode(.data, thresholds, units = NULL, max_date = NULL)"},{"path":"https://dylanpieper.github.io/episodes/reference/split_episode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split episodes to analyze continuation across time thresholds — split_episode","text":".data data frame output segment_episodes() containing minimum columns episode_start episode_end. thresholds Numeric vector time thresholds analyze. units Character vector time units corresponding threshold, single unit apply thresholds. One \"days\", \"weeks\", \"months\". Defaults \"days\" thresholds NULL. max_date Optional reference date use eligibility calculations. Defaults current system date.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/split_episode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split episodes to analyze continuation across time thresholds — split_episode","text":"input data frame additional columns threshold: threshold_unit_date: date corresponding threshold unit episode_start threshold_unit_eligible: Logical indicating enough time passed evaluate threshold threshold_unit_continued: Logical indicating episode continued past threshold","code":""},{"path":[]},{"path":"https://dylanpieper.github.io/episodes/reference/split_episode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split episodes to analyze continuation across time thresholds — split_episode","text":"","code":"data(substance_use) # First, segment the data into episodes treatment_episodes <- substance_use |>   group_by(client_id) |>   segment_episodes(     visit_date,     gap_threshold = 2,     gap_unit = \"months\"   ) #> Only fixed variables are included: #> • Included: \"medication_name\", \"Age\", \"Gender\", \"Race\", \"primary_substance\", #>   \"baseline_housing\", and \"trauma_history\" #> • Excluded: \"substance_use_past_week\", \"quality_of_life_score\", and #>   \"medication_dose_mg\" #> Use `episodes::segment_episodes_by_covars()` to include variables with changing #> values  # Then analyze whether episodes continue past specific thresholds episode_retention <- treatment_episodes |>   split_episode(thresholds = c(30, 60, 90, 180), units = \"days\")    # Analyze retention rates at different thresholds retention_summary <- episode_retention |>   summarize(     episodes_count = n(),     continued_30d = sum(days_30_continued, na.rm = TRUE),     continued_60d = sum(days_60_continued, na.rm = TRUE),     continued_90d = sum(days_90_continued, na.rm = TRUE),     continued_180d = sum(days_180_continued, na.rm = TRUE),     pct_30d = mean(days_30_continued, na.rm = TRUE) * 100,     pct_60d = mean(days_60_continued, na.rm = TRUE) * 100,     pct_90d = mean(days_90_continued, na.rm = TRUE) * 100,     pct_180d = mean(days_180_continued, na.rm = TRUE) * 100   )    # You can also use different time units monthly_retention <- treatment_episodes |>   split_episode(     thresholds = c(1, 3, 6, 12),     units = \"months\"   )"},{"path":"https://dylanpieper.github.io/episodes/reference/substance_use.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated substance use treatment data — substance_use","title":"Simulated substance use treatment data — substance_use","text":"dataset containing longitudinal observations clients receiving treatment substance use disorders. simulated dataset reflects realistic patterns treatment engagement, substance use, quality life measures, medication treatment patterns clients alcohol opioid use disorders.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/substance_use.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated substance use treatment data — substance_use","text":"","code":"substance_use"},{"path":"https://dylanpieper.github.io/episodes/reference/substance_use.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated substance use treatment data — substance_use","text":"tibble 15,779 rows 12 variables: client_id Character. Unique identifier client visit_date Date. Date treatment visit substance_use_past_week Numeric. Number days (0-7) client used substances past week quality_of_life_score Numeric. Self-reported quality life score (0-100) medication_dose_mg Numeric. Medication dose milligrams, applicable medication_name Character. Name medication prescribed, applicable Age Integer. Client age years Gender Factor levels: Male, Female, Non-Binary Race Factor 8 levels including White, Hispanic, Black, etc. primary_substance Factor levels: Alcohol, Opioids baseline_housing Factor levels: Stable, Temporary, Unstable, Unhoused trauma_history Logical. Whether client reported history trauma","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/substance_use.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Simulated substance use treatment data — substance_use","text":"Simulated data created using wakefield package parameters designed reflect realistic patterns observed substance use treatment programs.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/substance_use.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulated substance use treatment data — substance_use","text":"data simulates different patterns treatment engagement including: regular attendance, episodic treatment gaps, sporadic attendance. Treatment outcomes vary engagement patterns, distributed across three types: improving, declining, fluctuating. Medication information reflects evidence-based medications opioid use disorder (buprenorphine, methadone, naltrexone) alcohol use disorder (naltrexone, acamprosate, disulfiram) realistic dosing patterns.","code":""},{"path":"https://dylanpieper.github.io/episodes/reference/substance_use.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulated substance use treatment data — substance_use","text":"","code":"summary(substance_use) #>   client_id           visit_date         substance_use_past_week #>  Length:15779       Min.   :2020-01-01   Min.   :0.00            #>  Class :character   1st Qu.:2020-02-26   1st Qu.:1.00            #>  Mode  :character   Median :2020-05-24   Median :2.00            #>                     Mean   :2020-10-17   Mean   :2.31            #>                     3rd Qu.:2020-09-19   3rd Qu.:3.00            #>                     Max.   :2024-12-31   Max.   :7.00            #>                                                                  #>  quality_of_life_score medication_dose_mg medication_name         Age       #>  Min.   :13.0          Min.   :   0       Length:15779       Min.   :18.0   #>  1st Qu.:35.0          1st Qu.:   4       Class :character   1st Qu.:29.0   #>  Median :40.0          Median :  12       Mode  :character   Median :42.0   #>  Mean   :40.5          Mean   : 176                          Mean   :41.6   #>  3rd Qu.:46.0          3rd Qu.:  50                          3rd Qu.:53.0   #>  Max.   :70.0          Max.   :1998                          Max.   :65.0   #>                                                                             #>     Gender            Race      primary_substance  baseline_housing #>  Male  :5114   White    :9939   Alcohol: 4741     Stable   :9366    #>  Female:5209   Hispanic :2480   Opioids:11038     Temporary:2604    #>  Trans*:5456   Black    :2218                     Unstable :2363    #>                Asian    : 709                     Unhoused :1446    #>                Bi-Racial: 343                                       #>                Native   :  62                                       #>                (Other)  :  28                                       #>  trauma_history  #>  Mode :logical   #>  FALSE:4562      #>  TRUE :11217     #>                  #>                  #>                  #>"},{"path":"https://dylanpieper.github.io/episodes/news/index.html","id":"episodes-010","dir":"Changelog","previous_headings":"","what":"episodes 0.1.0","title":"episodes 0.1.0","text":"Initial CRAN submission segment_episodes() identify episodes based temporal gaps segment_episodes_by_covars() track variable changes within episodes split_episode() analyze retention across time thresholds Includes sample dataset substance_use demonstration Designed analyzing treatment patterns, patient journeys, longitudinal data","code":""}]
